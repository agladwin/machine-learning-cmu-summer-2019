LONDON — Donald Trump’s state visit to Britain should be canceled without delay. The withdrawal of the invitation extended to the president in January by Prime Minister Theresa May would indeed be a diplomatic embarrassment and — given Mr. Trump’s vindictive temperament — would be unlikely to go unpunished. Such a decision is never easy to take. But it must be taken. On Wednesday morning, Mr. Trump retweeted a series of anti-Muslim videos posted by Jayda Fransen, the deputy leader of Britain First, an ultranationalist group so far to the right that it is repudiated by nearly every sector of British politics and society. It is hard to exaggerate how disgusted Britons are by the president’s recent behavior on Twitter. The prime minister responded on Thursday, saying, “I’m very clear that retweeting from Britain First was the wrong thing to do.” Before her, Sajid Javid, the communities secretary and a Muslim, wrote on Twitter: “So POTUS has endorsed the views of a vile, hate-filled racist organization that hates me and people like me. He is wrong and I refuse to let it go and say nothing.” Jeremy Corbyn, the leader of the Labour Party, called the retweets “abhorrent, dangerous and a threat to our society.” It is worth bearing in mind that Ms. Fransen — who celebrated the attention delivered by the American president — is facing charges of religiously aggravated harassment. At least one of the original videos, captioned “Muslim migrant beats up Dutch boy on crutches!,” is completely inauthentic. The others are of dubious provenance at best. What is so shocking is that Mr. Trump, who has more than 43 million Twitter followers, should so casually proliferate content tweeted by an organization that actively subverts the social cohesion of a country that is, at least notionally, America’s closest ally. Those in Britain who follow the president’s unfiltered outpourings on social media have learned to expect an aggressive stream of consciousness. But this insult, delivered in so cavalier a fashion, is of a different order. Mr. Trump only compounded the affront by telling the prime minister — again in a tweet — not to “focus on me, focus on the destructive Radical Islamic Terrorism that is taking place within the United Kingdom. We are doing just fine!” I’m sure you are, Mr. Trump. But that is not the response of a friend. It is the dismissive taunt of the world’s most overpromoted playground bully. As it happens, I came to the conclusion that Mr. Trump’s visit should be canceled in August, after the violent white nationalist rally in Charlottesville, Va. When the most powerful person in the world fails the simplest test of democratic leadership — answering the question “Were the Nazis uniquely bad?” — the whole world is involved. The president failed that test conspicuously and gave comfort to the loathsome “identitarianism” that understands society as a competition between races, tribes and religion. Groups like Britain First and their counterparts across Europe were inspired by Mr. Trump’s refusal to single out for condemnation the white supremacists; they understood his reticence to be a wink of recognition. Now the wink has escalated into something close to outright endorsement. In February, members of Parliament debated a petition signed by more than 1.8 million people objecting to Mr. Trump’s state visit. They were told by Mrs. May’s ministerial colleagues that Britain’s diplomatic, strategic and commercial interests must override distaste for the American president’s racism, misogyny and offhand bigotry. It remains true that canceling the invitation would be a monumental headache. As Britain wrestles with the horrible details of Brexit, a bilateral trade deal with the United States is of the greatest importance. Our respective military, intelligence and diplomatic communities cooperate as closely as any in the world. The “special relationship” may not be what is was in the era of Harold Macmillan and John Kennedy or Margaret Thatcher and Ronald Reagan, but it is more than a polite fiction. Such matters are technically in the hands of the Royal Visits Committee and attended by representatives of the prime minister’s office, the Cabinet Office, the Department for International Trade, the Foreign Office and the royal household. But if Mrs. May recommended that the invitation be rescinded, the committee would almost certainly respect her wishes. Will she? Almost certainly not. Weakened by a poor performance in the June general election and buffeted by the headwinds of Brexit, the prime minister is disinclined to take such a risk. The nervous pragmatists around Mrs. May point out that the queen has hosted more than 100 such visits, many of them by repellent individuals, including dictators like Nicolae Ceausescu of Romania and Robert Mugabe of Zimbabwe. But that misses the point. It is precisely because of Britain’s close relationship with the United States — what Barack Obama called our “partnership of the heart” — that this case is so very different. The true Atlanticist always puts our shared history and the principles it enshrines ahead of immediate tactical considerations. Britain’s covenant is with the American people and the values for which they stand, not with whoever occupies the White House. That covenant has been grievously breached by a man who daily besmirches the great office he holds and thinks little of insulting the most steadfast friend of the United States. Time to call time on his nonsense.